!function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function o(e,t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n(this,"_showInputError",(function(e){var t=r._formEl.querySelector("#"+e.id+"-error");e.classList.add(r._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(r._errorClass)})),n(this,"_hideInputError",(function(e){var t=r._formEl.querySelector("#"+e.id+"-error");e.classList.remove(r._inputErrorClass),t.classList.remove(r._errorClass),t.textContent=""})),n(this,"_checkInputValidity",(function(e){console.log(e),e.validity.valid?r._hideInputError(e):r._showInputError(e)})),n(this,"_hasValidInputs",(function(e){return e.every((function(e){return e.validity.valid}))})),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formEl=t}var r,i;return r=o,(i=[{key:"resetValidation",value:function(){this._formEl.reset(),this._toggleButton()}},{key:"_toggleButton",value:function(){this._hasValidInputs(this._inputList)?(this._submitButton.disabled=!1,this._submitButton.classList.remove(this._inactiveButtonClass)):(this._submitButton.disabled=!0,this._submitButton.classList.add(this._inactiveButtonClass))}},{key:"_setEventListeners",value:function(){var t,n=this;this._inputList=function(t){if(Array.isArray(t))return e(t)}(t=this._formEl.querySelectorAll(this._inputSelector))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this._submitButton=this._formEl.querySelector(this._submitButtonSelector),this._inputList.forEach((function(e){e.addEventListener("input",(function(t){n._checkInputValidity(e),n._toggleButton()}))}))}},{key:"enableValidation",value:function(){this._formEl.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&t(r.prototype,i),o}();function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=document.querySelector(".modal_type_image-expand"),a=i.querySelector(".modal__image-preview"),l=i.querySelector(".modal__image-subtitle"),s=function(e){e.classList.remove("modal_toggle"),e.removeEventListener("click",u),document.removeEventListener("keydown",c)},u=function(e){var t=document.querySelector(".modal_toggle");e.target===t&&s(t)},c=function(e){if("Escape"===e.key){var t=document.querySelector(".modal_toggle");s(t)}},d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._cardSelector=n}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".elements__container").cloneNode(!0)}},{key:"getView",value:function(){this._element=this._getTemplate(),this._setEventListeners();var e=this._element.querySelector(".elements__image");return this._element.querySelector(".elements__text").textContent=this._name,e.src=this._link,e.alt=this._name,this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".elements__image").addEventListener("click",(function(){return e._handleImagePreview()})),this._element.querySelector(".elements__delete").addEventListener("click",(function(){return e._handleDeleteIcon()})),this._element.querySelector(".elements__heart").addEventListener("click",(function(){return e._handleLikeIcon()}))}},{key:"_handleLikeIcon",value:function(){this._element.querySelector(".elements__heart").classList.toggle("elements__heart_active")}},{key:"_handleDeleteIcon",value:function(){this._element.remove()}},{key:"_handleImagePreview",value:function(){var e;(e=i).classList.add("modal_toggle"),e.addEventListener("click",u),document.addEventListener("keydown",c),a.src=this._link,a.alt=this._name,l.textContent=this._name}}])&&r(t.prototype,n),e}(),_=document.querySelector(".modal_profile"),m=document.querySelector(".modal__form_type_edit-form"),f=document.querySelector(".profile__edit-button"),v=document.querySelector(".modal__close-button_type_profile"),y=document.querySelector(".profile__add-button"),h=document.querySelector(".modal__info_place_name-input"),p=document.querySelector(".modal__info_place_about-me-input"),g=document.querySelector(".profile__title"),b=document.querySelector(".profile__subtitle"),S=document.querySelector(".modal_add-card"),k=document.querySelector(".modal__form_type_new-place"),E=document.querySelector(".modal__close-button_type_new-place"),L=document.querySelector(".modal__info_place_new-title-input"),q=document.querySelector(".modal__info_place_url-input"),w=document.querySelector(".modal_type_image-expand"),C=(w.querySelector(".modal__image-preview"),w.querySelector(".modal__close-button_place_image-expand")),B=(w.querySelector(".modal__image-subtitle"),document.querySelector(".elements")),x=function(e){e.classList.add("modal_toggle"),e.addEventListener("click",V),document.addEventListener("keydown",j)},I=function(e){e.classList.remove("modal_toggle"),e.removeEventListener("click",V),document.removeEventListener("keydown",j)},V=function(e){e.target===e.currentTarget&&I(e.target)},j=function(e){var t=document.querySelector(".modal_toggle");27===e.keyCode&&I(t)},A=function(e,t){var n=new d(e,"#elements-template").getView();t.prepend(n)};[{name:"Yosemite Valley",link:"https://code.s3.yandex.net/web-code/yosemite.jpg"},{name:"Lake Louise",link:"https://code.s3.yandex.net/web-code/lake-louise.jpg"},{name:"Bald Mountains",link:"https://code.s3.yandex.net/web-code/bald-mountains.jpg"},{name:"Latemar",link:"https://code.s3.yandex.net/web-code/latemar.jpg"},{name:"Vanoise National Park",link:"https://code.s3.yandex.net/web-code/vanoise.jpg"},{name:"Lago di Braies",link:"https://code.s3.yandex.net/web-code/lago.jpg"}].forEach((function(e){A(e,B)})),m.addEventListener("submit",(function(e){e.preventDefault(),g.textContent=h.value,b.textContent=p.value,I(_)})),f.addEventListener("click",(function(){x(_),h.value=g.textContent,p.value=b.textContent})),y.addEventListener("click",(function(){x(S)})),v.addEventListener("click",(function(){I(_)})),E.addEventListener("click",(function(){I(S),k.reset()})),C.addEventListener("click",(function(){I(w)})),k.addEventListener("submit",(function(e){e.preventDefault();var t={name:L.value,link:q.value};A(t,B),I(S),D.resetValidation()}));var P={inputSelector:".modal__info",submitButtonSelector:".modal__save-button",inactiveButtonClass:"modal__save-button_disabled",inputErrorClass:"modal__info_type_error",errorClass:"modal__error_active"},T=new o(P,m),D=new o(P,k);T.enableValidation(),D.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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anMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvSW5pdGlhbENhcmRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xuXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XG5cbiAgICB0aGlzLl9mb3JtRWwgPSBmb3JtRWxlbWVudDtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IGVycm9yU3BhbiA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKFwiI1wiICsgaW5wdXQuaWQgKyBcIi1lcnJvclwiKVxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvclNwYW4udGV4dENvbnRlbnQgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBlcnJvclNwYW4uY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcblxuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgZXJyb3JTcGFuID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBpbnB1dC5pZCArIFwiLWVycm9yXCIpXG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yU3Bhbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIGVycm9yU3Bhbi50ZXh0Q29udGVudCA9IFwiXCI7XG5cbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zb2xlLmxvZyhpbnB1dClcbiAgICBpZiAoaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXQpO1xuICAgIH1cbiAgfTtcblxuICBfaGFzVmFsaWRJbnB1dHMgPSAoaW5wdXRMaXN0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0TGlzdC5ldmVyeSgoaW5wdXQpID0+IGlucHV0LnZhbGlkaXR5LnZhbGlkKTtcblxuICB9XG5cbiAgIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWwucmVzZXQoKTtcbiAgICB0aGlzLl90b2dnbGVCdXR0b24oKTtcbiAgICBcbiAgIH1cblxuICBfdG9nZ2xlQnV0dG9uKCkge1xuXG4gICAgaWYgKHRoaXMuX2hhc1ZhbGlkSW5wdXRzKHRoaXMuX2lucHV0TGlzdCkpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcylcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpXG4gICAgfVxuICB9O1xuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcblxuICAgIHRoaXMuX2lucHV0TGlzdCA9IFsuLi50aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKV07XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjsiLCJjb25zdCBtb2RhbEltYWdlRXhwYW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF90eXBlX2ltYWdlLWV4cGFuZFwiKTtcbmNvbnN0IG1vZGFsSW1hZ2VQcmV2aWV3RWwgPSBtb2RhbEltYWdlRXhwYW5kLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlLXByZXZpZXdcIik7XG5jb25zdCBtb2RhbEltYWdlU3VidGl0bGUgPSBtb2RhbEltYWdlRXhwYW5kLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlLXN1YnRpdGxlXCIpXG5cbmNvbnN0IG9wZW5Nb2RhbCA9IChtb2RhbCkgPT4ge1xuICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF90b2dnbGVcIik7XG4gICAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlTW9kYWxDbGljayk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgY2xvc2VNb2RhbEVzYyk7XG59O1xuXG5jb25zdCBjbG9zZU1vZGFsID0gKG1vZGFsKSA9PiB7XG4gICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX3RvZ2dsZVwiKTtcbiAgICBtb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VNb2RhbENsaWNrKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBjbG9zZU1vZGFsRXNjKTtcbn07XG5cbmNvbnN0IGNsb3NlTW9kYWxDbGljayA9IChlKSA9PiB7XG4gICAgY29uc3QgbW9kYWxUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX3RvZ2dsZVwiKTtcbiAgICBpZiAoZS50YXJnZXQgPT09IG1vZGFsVG9nZ2xlKSB7XG4gICAgICAgIGNsb3NlTW9kYWwobW9kYWxUb2dnbGUpO1xuICAgIH07XG59O1xuXG5jb25zdCBjbG9zZU1vZGFsRXNjID0gKGUpID0+IHtcblxuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICBjb25zdCBtb2RhbFRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdG9nZ2xlXCIpO1xuICAgICAgICBjbG9zZU1vZGFsKG1vZGFsVG9nZ2xlKTtcbiAgICB9O1xufTtcblxuXG5jbGFzcyBDYXJkIHtcblxuICAgIGNvbnN0cnVjdG9yKGRhdGEsIGNhcmRTZWxlY3Rvcikge1xuXG4gICAgICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG5cbiAgICAgICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIH1cblxuICAgIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fY29udGFpbmVyXCIpXG4gICAgICAgICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgICAgIHJldHVybiBjYXJkRWxlbWVudFxuICAgIH1cblxuICAgIGdldFZpZXcoKSB7XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICAgICAgY29uc3QgY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19pbWFnZVwiKTtcblxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX3RleHRcIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lXG4gICAgICAgIGNhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgICAgICBjYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcblxuICAgIH1cblxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudFxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2ltYWdlXCIpXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUltYWdlUHJldmlldygpKTtcblxuICAgICAgICB0aGlzLl9lbGVtZW50XG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19fZGVsZXRlXCIpXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZURlbGV0ZUljb24oKSk7XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudFxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2hlYXJ0XCIpXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUxpa2VJY29uKCkpO1xuICAgIH1cblxuICAgIF9oYW5kbGVMaWtlSWNvbigpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudFxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2hlYXJ0XCIpXG4gICAgICAgICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRzX19oZWFydF9hY3RpdmVcIik7XG5cbiAgICB9XG5cbiAgICBfaGFuZGxlRGVsZXRlSWNvbigpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcblxuICAgIH1cblxuICAgIF9oYW5kbGVJbWFnZVByZXZpZXcoKSB7XG4gICAgICAgIG9wZW5Nb2RhbChtb2RhbEltYWdlRXhwYW5kKVxuICAgICAgICBtb2RhbEltYWdlUHJldmlld0VsLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgICAgIG1vZGFsSW1hZ2VQcmV2aWV3RWwuYWx0ID0gdGhpcy5fbmFtZTtcbiAgICAgICAgbW9kYWxJbWFnZVN1YnRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xuXG5cbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuaW1wb3J0IGluaXRpYWxDYXJkcyBmcm9tIFwiLi4vY29tcG9uZW50cy9Jbml0aWFsQ2FyZHMuanNcIlxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5cblxuLy88Pjw+PD48Pjw+IFBST0ZJTEUgPD48Pjw+PD48Pi8vXG5cbmNvbnN0IG1vZGFsUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfcHJvZmlsZVwiKTtcbmNvbnN0IHByb2ZpbGVGb3JtRUwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtX3R5cGVfZWRpdC1mb3JtXCIpO1xuY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xuY29uc3QgcHJvZmlsZUZvcm1DbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ1dHRvbl90eXBlX3Byb2ZpbGVcIilcbmNvbnN0IHByb2ZpbGVBZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5jb25zdCBwcm9maWxlRm9ybU5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2luZm9fcGxhY2VfbmFtZS1pbnB1dFwiKTtcbmNvbnN0IHByb2ZpbGVGb3JtQWJvdXRNZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW5mb19wbGFjZV9hYm91dC1tZS1pbnB1dFwiKTtcbmNvbnN0IHByb2ZpbGVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGl0bGVcIik7XG5jb25zdCBwcm9maWxlU3VidGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3N1YnRpdGxlXCIpO1xuXG4vLzw+PD48Pjw+PD4gQUREIENBUkQgPD48Pjw+PD48Pi8vXG5cbmNvbnN0IG1vZGFsQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfYWRkLWNhcmRcIik7XG5jb25zdCBhZGRGb3JtRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtX3R5cGVfbmV3LXBsYWNlXCIpO1xuY29uc3QgYWRkRm9ybUNsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnV0dG9uX3R5cGVfbmV3LXBsYWNlXCIpXG5jb25zdCBhZGRGb3JtUGxhY2VJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2luZm9fcGxhY2VfbmV3LXRpdGxlLWlucHV0XCIpO1xuY29uc3QgYWRkRm9ybVVybElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW5mb19wbGFjZV91cmwtaW5wdXRcIik7XG5cbi8vPD48Pjw+PD48PiBJTUFHRSBQUkVWSUVXIDw+PD48Pjw+PD4vL1xuXG5jb25zdCBtb2RhbEltYWdlRXhwYW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF90eXBlX2ltYWdlLWV4cGFuZFwiKTtcbmNvbnN0IG1vZGFsSW1hZ2VQcmV2aWV3RWwgPSBtb2RhbEltYWdlRXhwYW5kLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlLXByZXZpZXdcIik7XG5jb25zdCBtb2RhbEltYWdlRXhwYW5kQ2xvc2VCdXR0b24gPSBtb2RhbEltYWdlRXhwYW5kLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ1dHRvbl9wbGFjZV9pbWFnZS1leHBhbmRcIik7XG5jb25zdCBtb2RhbEltYWdlU3VidGl0bGUgPSBtb2RhbEltYWdlRXhwYW5kLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlLXN1YnRpdGxlXCIpXG5cbi8vPD48Pjw+PD48PiBFTEVNRU5UUyA8Pjw+PD48Pjw+Ly9cblxuY29uc3QgY2FyZFNlbGVjdG9yID0gJyNlbGVtZW50cy10ZW1wbGF0ZSc7XG5jb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNcIik7XG5cbi8vPD48Pjw+PD48PiBGVU5DVElPTlMgPD48Pjw+PD48Pi8vXG5cbmZ1bmN0aW9uIG9wZW5Qcm9maWxlTW9kYWwoKSB7XG4gIG9wZW5Nb2RhbChtb2RhbFByb2ZpbGUpO1xuICBwcm9maWxlRm9ybU5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGVUaXRsZS50ZXh0Q29udGVudDtcbiAgcHJvZmlsZUZvcm1BYm91dE1lSW5wdXQudmFsdWUgPSBwcm9maWxlU3VidGl0bGUudGV4dENvbnRlbnQ7XG5cbn1cblxuY29uc3Qgb3Blbk1vZGFsID0gKG1vZGFsKSA9PiB7XG4gIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF90b2dnbGVcIik7XG4gIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZU1vZGFsQ2xpY2spO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBjbG9zZU1vZGFsRXNjKTtcbn07XG5cbmNvbnN0IGNsb3NlTW9kYWwgPSAobW9kYWwpID0+IHtcbiAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX3RvZ2dsZVwiKTtcbiAgbW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlTW9kYWxDbGljayk7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlTW9kYWxFc2MpO1xufTtcblxuY29uc3QgY2xvc2VNb2RhbENsaWNrID0gKGUpID0+IHtcblxuICBpZiAoZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCkge1xuICAgIGNsb3NlTW9kYWwoZS50YXJnZXQpO1xuICB9O1xufTtcblxuY29uc3QgY2xvc2VNb2RhbEVzYyA9IChlKSA9PiB7XG4gIGNvbnN0IG1vZGFsVG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF90b2dnbGVcIik7XG4gIGlmIChlLmtleUNvZGUgPT09IDI3KSB7XG4gICAgY2xvc2VNb2RhbChtb2RhbFRvZ2dsZSk7XG4gIH07XG59O1xuXG5mdW5jdGlvbiBwcm9maWxlRm9ybVN1Ym1pdEhhbmRsZXIoZXZlbnQpIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgcHJvZmlsZVRpdGxlLnRleHRDb250ZW50ID0gcHJvZmlsZUZvcm1OYW1lSW5wdXQudmFsdWU7XG4gIHByb2ZpbGVTdWJ0aXRsZS50ZXh0Q29udGVudCA9IHByb2ZpbGVGb3JtQWJvdXRNZUlucHV0LnZhbHVlO1xuICBjbG9zZU1vZGFsKG1vZGFsUHJvZmlsZSk7XG59XG5cbi8vPD48Pjw+PD48PiBDQVJEUyA8Pjw+PD48Pjw+Ly9cblxuY29uc3QgcmVuZGVyQ2FyZCA9IChkYXRhLCBjb250YWluZXIpID0+IHtcbiAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKGRhdGEsIGNhcmRTZWxlY3RvcikuZ2V0VmlldygpO1xuICBjb250YWluZXIucHJlcGVuZChuZXdDYXJkKTtcbn1cblxuaW5pdGlhbENhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgcmVuZGVyQ2FyZChjYXJkLCBlbGVtZW50cyk7XG59KTtcblxuLy88Pjw+PD48Pjw+IEVWRU5UIExJU1RFTkVSUyA8Pjw+PD48Pjw+Ly8gXG5cbnByb2ZpbGVGb3JtRUwuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBwcm9maWxlRm9ybVN1Ym1pdEhhbmRsZXIpXG5cbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIG9wZW5Qcm9maWxlTW9kYWwoKTtcbn0pO1xuXG5wcm9maWxlQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIG9wZW5Nb2RhbChtb2RhbEFkZENhcmQpO1xufSk7XG5cbnByb2ZpbGVGb3JtQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY2xvc2VNb2RhbChtb2RhbFByb2ZpbGUpO1xufSk7XG5cbmFkZEZvcm1DbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjbG9zZU1vZGFsKG1vZGFsQWRkQ2FyZCk7XG4gIGFkZEZvcm1FbC5yZXNldCgpO1xuXG59KTtcblxubW9kYWxJbWFnZUV4cGFuZENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNsb3NlTW9kYWwobW9kYWxJbWFnZUV4cGFuZCk7XG59KTtcblxuYWRkRm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IGRhdGEgPSB7XG4gICAgbmFtZTogYWRkRm9ybVBsYWNlSW5wdXQudmFsdWUsXG4gICAgbGluazogYWRkRm9ybVVybElucHV0LnZhbHVlLFxuICB9O1xuXG4gIHJlbmRlckNhcmQoZGF0YSwgZWxlbWVudHMpO1xuICBjbG9zZU1vZGFsKG1vZGFsQWRkQ2FyZCk7XG5cbiAgYWRkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcblxuXG59KTtcblxuXG4vLzw+PD48Pjw+PD4gVkFMSURBVElPTiA8Pjw+PD48Pjw+Ly9cblxuY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xuXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbmZvXCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc2F2ZS1idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc2F2ZS1idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbmZvX3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfYWN0aXZlXCIsXG59XG5cbmNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvblNldHRpbmdzLCBwcm9maWxlRm9ybUVMKTtcbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIGFkZEZvcm1FbCk7XG5cblxucHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuYWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7IiwiY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3lvc2VtaXRlLmpwZ1wiXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYWtlLWxvdWlzZS5qcGdcIlxuICB9LFxuICB7XG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvYmFsZC1tb3VudGFpbnMuanBnXCJcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGF0ZW1hci5qcGdcIlxuICB9LFxuICB7XG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3Zhbm9pc2UuanBnXCJcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhZ28uanBnXCJcbiAgfVxuXTtcblxuXG5leHBvcnQgZGVmYXVsdCBpbml0aWFsQ2FyZHNcblxuXG4iXSwibmFtZXMiOlsiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJpbnB1dCIsImVycm9yU3BhbiIsIl9mb3JtRWwiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJfaW5wdXRFcnJvckNsYXNzIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9lcnJvckNsYXNzIiwicmVtb3ZlIiwiY29uc29sZSIsImxvZyIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dExpc3QiLCJldmVyeSIsInRoaXMiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJyZXNldCIsIl90b2dnbGVCdXR0b24iLCJfaGFzVmFsaWRJbnB1dHMiLCJfaW5wdXRMaXN0IiwiX3N1Ym1pdEJ1dHRvbiIsImRpc2FibGVkIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsIm1vZGFsSW1hZ2VFeHBhbmQiLCJkb2N1bWVudCIsIm1vZGFsSW1hZ2VQcmV2aWV3RWwiLCJtb2RhbEltYWdlU3VidGl0bGUiLCJjbG9zZU1vZGFsIiwibW9kYWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xvc2VNb2RhbENsaWNrIiwiY2xvc2VNb2RhbEVzYyIsIm1vZGFsVG9nZ2xlIiwidGFyZ2V0Iiwia2V5IiwiQ2FyZCIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfY2FyZFNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiY2FyZEltYWdlIiwic3JjIiwiYWx0IiwiX2hhbmRsZUltYWdlUHJldmlldyIsIl9oYW5kbGVEZWxldGVJY29uIiwiX2hhbmRsZUxpa2VJY29uIiwidG9nZ2xlIiwibW9kYWxQcm9maWxlIiwicHJvZmlsZUZvcm1FTCIsInByb2ZpbGVFZGl0QnV0dG9uIiwicHJvZmlsZUZvcm1DbG9zZUJ1dHRvbiIsInByb2ZpbGVBZGRCdXR0b24iLCJwcm9maWxlRm9ybU5hbWVJbnB1dCIsInByb2ZpbGVGb3JtQWJvdXRNZUlucHV0IiwicHJvZmlsZVRpdGxlIiwicHJvZmlsZVN1YnRpdGxlIiwibW9kYWxBZGRDYXJkIiwiYWRkRm9ybUVsIiwiYWRkRm9ybUNsb3NlQnV0dG9uIiwiYWRkRm9ybVBsYWNlSW5wdXQiLCJhZGRGb3JtVXJsSW5wdXQiLCJtb2RhbEltYWdlRXhwYW5kQ2xvc2VCdXR0b24iLCJlbGVtZW50cyIsIm9wZW5Nb2RhbCIsImN1cnJlbnRUYXJnZXQiLCJrZXlDb2RlIiwicmVuZGVyQ2FyZCIsImNvbnRhaW5lciIsIm5ld0NhcmQiLCJnZXRWaWV3IiwicHJlcGVuZCIsImluaXRpYWxDYXJkcyIsImNhcmQiLCJldmVudCIsInZhbHVlIiwiYWRkRm9ybVZhbGlkYXRvciIsInJlc2V0VmFsaWRhdGlvbiIsInZhbGlkYXRpb25TZXR0aW5ncyIsInByb2ZpbGVGb3JtVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=